<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Car Software Search</title>
</head>
<body>
    <h1>Welcome to Car Software Search</h1>

    <label for="brandSelect">Select Car Brand:</label>
    <select id="brandSelect" onclick="updateVersions()">
        <option value="">--Select a Brand--</option>
    </select>

    <label for="versionSelect">All Versions</label>
    <select id="versionSelect">
        <option value="">Software Versions</option>
    </select>

   <label for="findv">Find Version Fast</label>
    <input type="text" id="findv" name="findv" placeholder="Enter version">
    <input type="button" value="Find" onclick="findVersionFast()">    
    <p id="result"></p>
    <script> 
        // Populate brand dropdown on page load
window.onload = function() {
    const brandSelect = document.getElementById("brandSelect");
    carData.forEach(car => {
        const option = document.createElement("option");
        option.value = car.brand;
        option.textContent = car.brand;
        brandSelect.appendChild(option);
    });
};

// Update versions dropdown based on selected brand
function updateVersions() {
    const brandSelect = document.getElementById("brandSelect");
    const versionSelect = document.getElementById("versionSelect");
    const selectedBrand = brandSelect.value;

    // Clear previous versions
    versionSelect.innerHTML = '<option value="">Software Versions</option>';

    // Find the selected brand and populate versions
    const car = carData.find(car => car.brand === selectedBrand);
    if (car) {
        car.softwareVersions.forEach(version => {
            const option = document.createElement("option");
            option.value = version;
            option.textContent = version;
            versionSelect.appendChild(option);
        });
    }
}

// Find the version based on input and selected brand
function findVersionFast() {
    const brandSelect = document.getElementById("brandSelect");
    const versionToFind = document.getElementById("findv").value.trim();
    const selectedBrand = brandSelect.value;

    if (!selectedBrand || !versionToFind) {
        document.getElementById("result").innerText = "Please select a brand and enter a version to find.";
        console.error("Brand or version not specified.");
        return;
    }

    const car = carData.find(car => car.brand === selectedBrand);

    if (car && car.softwareVersions.includes(versionToFind)) {
        document.getElementById("result").innerText = "Found Successfully!";
    } else {
        document.getElementById("result").innerText = "Version Not Found!";
    }
}
    </script>
    <script type="module" src="script.js"></script>
</body>
</html>
